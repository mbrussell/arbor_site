{
  "hash": "bb9ee2b03dd8f3713bf4f53dff26c986",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Making R graphs more accessible using BrailleR\ndescription: \"An R package to make graphs and figures more accessible\"\nauthor: Matt Russell\ndate: '2023-06-30'\nslug: []\ncategories:\n  - Analytics\n  - Data visualization\n  - Accessibility\nimage: alt_text_demo.png  \n---\n\n\n# \n<center>\n\n![*An example use of alt text for a scatterplot made in R, with description of the scatterplot provided by the BrailleR package below the graph.*](alt_text_demo.png){width=500px}\n</center>\n\n##\n\n\nYou might have seen these prompts while you're uploading an image to social media or anywhere else on the internet: \"**Add alt text here.**\" Alt text describes what's contained in an image or figure on a webpage. It's useful because it can be used by screen readers for visually impaired people.\n\nAdding alt text to graphics promotes accessibility and allows more readers to interpret your image or figure. Alt text will also appear on the screen if an image does not load properly on a webpage.\n\nAs it turns out, adding alt text to images also improves search engine optimization. So, dedicating time to writing alt text on images and figures can promote accessibility and also help to rank your webpages higher in internet searches.\n\nI recently read [an excellent interview](https://academic.oup.com/jrssig/article-abstract/20/1/38/7034177?redirectedFrom=fulltext) in *Significance* magazine about the importance of using alt text for visually impaired learners. In it, they describe the R package **BrailleR** and how it can be used to generate text from figures made in R. This post describes a few example uses of the functions found within the package.\n\n## The BrailleR package\n\nI've read online that R is a software program that is already friendly for the blind and visually impaired. The **BrailleR** package contains functions that do more to help blind and visually impaired people interpret graphs and figures produced in R.\n\nYou can install the R package and load it in your workspace:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"BrailleR\")\nlibrary(BrailleR)\n```\n:::\n\n\n\nAs an example, I'll show a series of graphs using the `redpine` data set available in the **stats4nr** package. Data contain information collected from 450 red pine trees in Minnesota, including their diameter at breast height (`DBH`) and total height (`HT). Data were collected from various forest cover types (`CoverType`*`) and forest inventory plots (`PlotNum`) across the forest:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"devtools\")\n\n# devtools::install_github(\"mbrussell/stats4nr\")\n\nlibrary(stats4nr)\n\ndata(redpine)\n\nredpine\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 450 × 5\n   PlotNum CoverType TreeNum   DBH    HT\n     <dbl> <chr>       <dbl> <dbl> <dbl>\n 1       5 Red pine       46  13      51\n 2       5 Red pine       50   8.3    54\n 3       5 Red pine       54   8.2    48\n 4       5 Red pine       56  11.8    55\n 5       5 Red pine       63   9      54\n 6       5 Red pine       71  12.5    46\n 7      11 Cut            47  25.3    90\n 8      13 Red pine        1  16.2    85\n 9      13 Red pine        2  18.8    86\n10      13 Red pine        7  22.2    90\n# ℹ 440 more rows\n```\n\n\n:::\n:::\n\n\n\nWe can make a plot of tree height and diameter using the following code from `ggplot`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\np_HT <- ggplot(redpine, aes(DBH, HT)) +\n  geom_point() +\n  labs(x = \"Diameter at breast height (inches)\",\n       y = \"Height (feet)\",\n       title = \"Red pine height-diameter observations\")\n```\n:::\n\n\nWhen we call the `p_HT` object, the **BrailleR** package provides the graph in addition to four lines of text describing what's contained in the plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np_HT\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nThis chart has title 'Red pine height-diameter observations'.\nIt has x-axis 'Diameter at breast height (inches)' with labels 10, 20 and 30.\nIt has y-axis 'Height (feet)' with labels 25, 50, 75, 100 and 125.\nThe chart is a set of 450 big solid circle points of which about 91% can be seen.\n```\n\n\n:::\n:::\n\n\nThe output reads us the title of the plot, the axis labels and axis titles, and the number of data points. This is all very helpful attributes for interpreting the plot and can be read on the screen.\n\nThe data are collected from different cover types, so we can add a different color for each tree using `col = CoverType` and produce the results: \n\n\n::: {.cell}\n\n```{.r .cell-code}\np_HT2 <- ggplot(redpine, aes(DBH, HT, col = CoverType)) +\n  geom_point() +\n  labs(x = \"Diameter at breast height (inches)\",\n       y = \"Height (feet)\",\n       title = \"Red pine height-diameter observations\")\n\np_HT2\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nThis chart has title 'Red pine height-diameter observations'.\nIt has x-axis 'Diameter at breast height (inches)' with labels 10, 20 and 30.\nIt has y-axis 'Height (feet)' with labels 25, 50, 75, 100 and 125.\nThere is a legend indicating colour is used to show CoverType, with 13 levels:\nAspen shown as strong reddish orange colour, \nBalsam fir shown as strong orange colour, \nCut shown as strong yellow colour, \nGrass shown as vivid yellow green colour, \nJack pine shown as vivid yellowish green colour, \nPaper birch shown as vivid yellowish green colour, \nRed pine shown as brilliant bluish green colour, \nRight of way shown as vivid blue colour, \nScotch pine shown as brilliant blue colour, \nSwamp conifers shown as vivid violet colour, \nUpland mixed hardwoods shown as vivid violet colour, \nWhite pine shown as deep purplish pink colour and \nWhite spruce shown as vivid purplish red colour.\nThe chart is a set of 450 big solid circle points of which about 91% can be seen.\n```\n\n\n:::\n:::\n\n\nNow, you can see the additional detail of the number of levels in each cover type and their colors.\n\nThe **BrailleR package also works for graphics developed in base R, which can be specified with the `VI()` function. Here's a histogram of the height of red pines.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nVI(hist(redpine$HT))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nThis is a histogram, with the title: with the title: Histogram of redpine$HT\n\"redpine$HT\" is marked on the x-axis.\nTick marks for the x-axis are at: 20, 40, 60, 80, 100, and 120 \nThere are a total of 450 elements for this variable.\nTick marks for the y-axis are at: 0, 20, 40, 60, and 80 \nIt has 11 bins with equal widths, starting at 10 and ending at 120 .\nThe mids and counts for the bins are:\nmid = 15  count = 4 \nmid = 25  count = 7 \nmid = 35  count = 17 \nmid = 45  count = 47 \nmid = 55  count = 59 \nmid = 65  count = 61 \nmid = 75  count = 46 \nmid = 85  count = 77 \nmid = 95  count = 75 \nmid = 105  count = 50 \nmid = 115  count = 7\n```\n\n\n:::\n:::\n\n\nThe functions available in **BrailleR** are a great start for generating alt text copy that can be used on a figure or image. But they won't tell you the trends in the data or the \"big message\" that you want to leave your reader with. This is essential to have an effective graphic.\n\nFor this, Amy Cesal has any [excellent post on writing alt-text images](https://medium.com/nightingale/writing-alt-text-for-data-visualization-2a218ef43f81). Her template is to use:\n\n> \"**CHART TYPE** *of* **TYPE OF DATA** *where* **REASON FOR INCUDING CHART**.\"\n\nFor example, for the first figure plotting tree diameter and height, one could provide the following for the alt text description:\n\n> \"**Scatter plot** *of* **red pine tree diameters and heights** *where* **larger diameter trees are taller than shorter ones**.\"\n\nIn combination with the text provided by **BrailleR**, these steps can help improve the accessibility of your graphs and figures made in R. For more, a great resource I found for learning more about the **BrailleR** package is the book [BrailleR In Action](https://r-resources.massey.ac.nz/BrailleRInAction/) by A. Jonathan R. Godfrey.\n\n--\n\n*By Matt Russell. [Email Matt](mailto:matt@arbor-analytics.com) with any questions or comments.*\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}